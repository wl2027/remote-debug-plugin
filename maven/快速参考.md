# ğŸš€ å¿«é€Ÿå‚è€ƒå¡ç‰‡

## âŒ ä½ é‡åˆ°çš„é—®é¢˜

**ç°è±¡**ï¼š
```
IDEA è¿æ¥åï¼Œdemo-app ç«‹å³é€€å‡º
è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 130 (interrupted by signal 2:SIGINT)
```

**åŸå› **ï¼š
```
âŒ ä½ åœ¨ IDEA ä¸­ä½¿ç”¨äº† "Application" é…ç½®
   â†’ IDEA å¯åŠ¨äº† demo-appï¼ˆserver=nï¼‰
   â†’ IDEA æ§åˆ¶åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
   â†’ IDEA æ–­å¼€æ—¶ï¼Œåº”ç”¨ä¹Ÿé€€å‡ºäº†
```

---

## âœ… æ­£ç¡®çš„é…ç½®

### 1. åˆ é™¤é”™è¯¯çš„é…ç½®

åœ¨ IDEA ä¸­ï¼š
```
Run â†’ Edit Configurations â†’ åˆ é™¤æ‰€æœ‰ "Application" ç±»å‹çš„ DemoApplication
```

### 2. åˆ›å»ºæ­£ç¡®çš„é…ç½®

åœ¨ IDEA ä¸­ï¼š
```
Run â†’ Edit Configurations â†’ + â†’ Remote JVM Debug

é…ç½®ï¼š
  Name: Remote Debug via Proxy
  Debugger mode: Attach to remote JVM  â† é‡è¦ï¼
  Host: localhost
  Port: 15005  â† proxy-client çš„ç«¯å£
```

---

## ğŸ¯ æ­£ç¡®çš„å¯åŠ¨æµç¨‹

### æ­¥éª¤ 1: åœ¨ç»ˆç«¯å¯åŠ¨ç»„ä»¶

```bash
cd /Users/weil/Desktop/workspaces/remote-debug/proxy-debug

# æ–¹å¼ A: ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
./start-all.sh

# æ–¹å¼ B: æ‰‹åŠ¨å¯åŠ¨
# ç»ˆç«¯ 1:
./start-demo-app.sh

# ç»ˆç«¯ 2:
cd debug-proxy-server
java -jar target/debug-proxy-server-1.0-SNAPSHOT.jar 18888

# ç»ˆç«¯ 3:
cd debug-proxy-client
java -jar target/debug-proxy-client-1.0-SNAPSHOT.jar \
  ws://localhost:18888 localhost 15006 15005 test-app
```

### æ­¥éª¤ 2: éªŒè¯ç»„ä»¶è¿è¡Œ

```bash
./check-status.sh

# åº”è¯¥çœ‹åˆ°ï¼š
âœ“ Proxy Server (ç«¯å£ 18888) - è¿è¡Œä¸­
âœ“ Demo App (JDWP ç«¯å£ 15006) - è¿è¡Œä¸­  
âœ“ Proxy Client (ç«¯å£ 15005) - è¿è¡Œä¸­
```

### æ­¥éª¤ 3: åœ¨ IDEA ä¸­è¿æ¥

```
1. æ‰“å¼€ demo-app æºä»£ç 
2. è®¾ç½®æ–­ç‚¹
3. ç‚¹å‡» Debug æŒ‰é’®ï¼ˆç»¿è‰²è™«å­ï¼‰
4. é€‰æ‹© "Remote Debug via Proxy"
5. ç­‰å¾…è¿æ¥æˆåŠŸ
```

---

## ğŸ” å¦‚ä½•éªŒè¯é…ç½®æ­£ç¡®

### æ£€æŸ¥ Java è¿›ç¨‹

```bash
jps -l

# æ­£ç¡®çš„è¾“å‡ºï¼ˆåªæœ‰ä¸€ä¸ª DemoApplicationï¼‰ï¼š
88923 com.example.demo.DemoApplication
88926 com.example.proxy.server.WebSocketDebugProxyServer
88929 com.example.proxy.client.WebSocketDebugProxyClient

# é”™è¯¯çš„è¾“å‡ºï¼ˆæœ‰ä¸¤ä¸ª DemoApplicationï¼‰ï¼š
88918 com.example.demo.DemoApplication  â† IDEA å¯åŠ¨çš„ï¼ˆé”™è¯¯ï¼‰
88923 com.example.demo.DemoApplication  â† ç»ˆç«¯å¯åŠ¨çš„ï¼ˆæ­£ç¡®ï¼‰
```

### æ£€æŸ¥ IDEA æ—¥å¿—

#### âœ… æ­£ç¡®çš„æ—¥å¿—

```
Connected to the target VM, address: 'localhost:15005', transport: 'socket'
```

#### âŒ é”™è¯¯çš„æ—¥å¿—

```
-agentlib:jdwp=...,server=n,address=127.0.0.1:50214
                   â†‘ è¿™æ˜¯é”™è¯¯çš„ï¼åº”è¯¥æ˜¯ server=y

è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 130
```

---

## ğŸ“ æŸ¥çœ‹åº”ç”¨è¾“å‡º

### âš ï¸ é‡è¦ï¼šè¿œç¨‹è°ƒè¯•æ—¶ï¼Œè¾“å‡ºä¸åœ¨ IDEA æ§åˆ¶å°ï¼

```bash
# æŸ¥çœ‹åº”ç”¨æ ‡å‡†è¾“å‡º
tail -f /tmp/demo-app.log

# æŸ¥çœ‹åº”ç”¨çŠ¶æ€æ—¥å¿—
tail -f /tmp/demo-app-status.log

# æŸ¥çœ‹æ‰€æœ‰ç»„ä»¶çŠ¶æ€
./check-status.sh
```

---

## ğŸ“ å…³é”®æ¦‚å¿µ

### æœ¬åœ°è°ƒè¯• vs è¿œç¨‹è°ƒè¯•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æœ¬åœ°è°ƒè¯•ï¼ˆApplicationï¼‰                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  IDEA å¯åŠ¨åº”ç”¨                                    â”‚
â”‚    â†“                                             â”‚
â”‚  IDEA æ§åˆ¶åº”ç”¨ç”Ÿå‘½å‘¨æœŸ                            â”‚
â”‚    â†“                                             â”‚
â”‚  IDEA æ–­å¼€ â†’ åº”ç”¨é€€å‡º                             â”‚
â”‚                                                  â”‚
â”‚  å‚æ•°ï¼šserver=n  â† é”™è¯¯ï¼                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         è¿œç¨‹è°ƒè¯•ï¼ˆRemote JVM Debugï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº”ç”¨å·²åœ¨ç»ˆç«¯è¿è¡Œ                                  â”‚
â”‚    â†“                                             â”‚
â”‚  IDEA è¿æ¥åˆ°åº”ç”¨                                  â”‚
â”‚    â†“                                             â”‚
â”‚  IDEA æ–­å¼€ â†’ åº”ç”¨ç»§ç»­è¿è¡Œ                          â”‚
â”‚                                                  â”‚
â”‚  å‚æ•°ï¼šserver=y  â† æ­£ç¡®ï¼                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨æ‰€æœ‰ç»„ä»¶
./start-all.sh

# æ£€æŸ¥çŠ¶æ€
./check-status.sh

# æŸ¥çœ‹æ—¥å¿—
tail -f /tmp/demo-app.log
tail -f /tmp/demo-app-status.log

# åœæ­¢æ‰€æœ‰ç»„ä»¶
pkill -f "demo-app"
pkill -f "debug-proxy-server"
pkill -f "debug-proxy-client"

# æŸ¥çœ‹è¿›ç¨‹
jps -l

# æŸ¥çœ‹ç«¯å£
lsof -i :15006  # demo-app JDWP
lsof -i :18888  # proxy-server
lsof -i :15005  # proxy-client
```

---

## ğŸ¯ è°ƒè¯•æ£€æŸ¥æ¸…å•

- [ ] åœ¨ç»ˆç«¯å¯åŠ¨äº† demo-appï¼ˆä¸åœ¨ IDEA ä¸­ï¼‰
- [ ] demo-app ä½¿ç”¨ `server=y` å‚æ•°
- [ ] è¿è¡Œ `./check-status.sh` ç¡®è®¤æ‰€æœ‰ç»„ä»¶è¿è¡Œ
- [ ] IDEA ä½¿ç”¨ "Remote JVM Debug" é…ç½®ï¼ˆä¸æ˜¯ Applicationï¼‰
- [ ] IDEA è¿æ¥åˆ° localhost:15005
- [ ] `jps` åªæ˜¾ç¤ºä¸€ä¸ª DemoApplication è¿›ç¨‹
- [ ] åœ¨ç»ˆç«¯æŸ¥çœ‹ demo-app è¾“å‡ºï¼ˆä¸åœ¨ IDEA æ§åˆ¶å°ï¼‰

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **IDEA-é…ç½®æŒ‡å—.md** - è¯¦ç»†çš„ IDEA é…ç½®æ­¥éª¤
- **IDEA-DEBUG-GUIDE.md** - è°ƒè¯•åŸç†å’Œé—®é¢˜è¯Šæ–­
- **SIMPLE-GUIDE.md** - ç®€åŒ–ç‰ˆä½¿ç”¨æŒ‡å—
- **é—®é¢˜ä¿®å¤æ€»ç»“.md** - å¸¸è§é—®é¢˜ä¿®å¤

---

## ğŸ’¡ è®°ä½è¿™ä¸ªï¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿œç¨‹è°ƒè¯• = è¿æ¥åˆ°å·²è¿è¡Œçš„åº”ç”¨        â”‚
â”‚            â‰  è®© IDEA å¯åŠ¨åº”ç”¨       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åº”ç”¨åœ¨ç»ˆç«¯å¯åŠ¨ï¼ŒIDEA åªæ˜¯è¿æ¥ï¼**

